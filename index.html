<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="canvasImg">
         <p>测试输出img</p>
    </div>


    <button id="btnSave">
        下载图片
    </button>

    <script src="html2canvas.min.js"></script>
    <script>
        /*生成canvas图形*/

        // 获取按钮id
        var btnSave = document.getElementById("btnSave");
        // 获取内容id
        var content = document.getElementById("canvasImg");
        // 进行canvas生成
        btnSave.onclick = function(){
            html2canvas(content).then(function(canvas) {
                /*var imgURL = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
                console.log(imgURL)
                window.location.href = imgURL+".png";*/
                document.body.appendChild(canvas)
            });
        }
        var saveFile = function(data, filename){
            var save_link = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');
            save_link.href = data;
            save_link.download = filename;

            var event = document.createEvent('MouseEvents');
            event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
            save_link.dispatchEvent(event);
        };
    </script>


</body>
</html>